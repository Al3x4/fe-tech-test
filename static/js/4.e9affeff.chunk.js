(this["webpackJsonpfe-tech-test"]=this["webpackJsonpfe-tech-test"]||[]).push([[4],{205:function(e,t,s){"use strict";s.r(t);var a=s(24),l=s(1),c=s(19),i=s(2),n=s(5),r=s(21),d=s(202),o=function(e){return Object(d.a)(e,(function(){return fetch(e).then((function(e){return e.json()}))}),{suspense:!0})},x=s(54),j=s(55),b=s(0),m=function(){var e=Object(l.useState)({visible:!1,data:{}}),t=Object(r.a)(e,2),s=t[0],a=t[1],c=o("https://my-json-server.typicode.com/alb90/aieng-tech-test-assets/data").data;return Object(b.jsxs)(b.Fragment,{children:[s.visible?Object(b.jsx)(j.a,{data:s.data,setModal:a}):null,Object(b.jsxs)("div",{className:"relative ",children:[Object(b.jsxs)("h2",{className:"px-12 pt-12 text-blueGray-500 text-3xl text-light uppercase tracking-wide",children:[Object(b.jsx)("i",{className:"fas fa-video text-blueGray-600 mr-2"})," Content"]}),Object(b.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full pb-32 pt-8",children:Object(b.jsx)("div",{className:"flex items-center justify-between flex-wrap",children:Object(n.a)(c).sort((function(e,t){return e.totalViews.total<t.totalViews.total?1:-1})).map((function(e){return Object(b.jsx)(x.a,{data:e,handleClick:function(){return a({visible:!0,data:e})}})}))})})]})]})},u=s(35),p=s(58),h=(s(201),s(57)),f=s.n(h),O={maintainAspectRatio:!1,responsive:!0,scales:{x:{type:"timeseries"}},plugins:{legend:{align:"end",position:"bottom",labels:{boxWidth:7,usePointStyle:!0,pointStyle:"circle"}},tooltip:{mode:"index",intersect:!1}}},v=function(e){var t=e.data,s=e.options;return Object(b.jsx)("div",{className:"w-full h-full",children:Object(b.jsx)(p.c,{type:"line",data:t,options:f()(O,s)})})},w={maintainAspectRatio:!1,responsive:!0,plugins:{legend:{align:"end",position:"bottom",labels:{boxWidth:7,usePointStyle:!0,pointStyle:"circle"}},tooltip:{mode:"index",intersect:!1}}},g=function(e){var t=e.data,s=e.options;return Object(b.jsx)("div",{className:"w-full h-full",children:Object(b.jsx)(p.a,{type:"bar",data:t,options:f()(w,s)})})},N=function(e){var t=e.data,s=(t.assetImage,t.description),a=(t.duration,t.genre),l=t.name,c=t.prevTotalViews,i=t.provider,n=t.totalViews,r=t.videoImage,d=o("https://my-json-server.typicode.com/alb90/aieng-tech-test-timeseries/data").data,x=function(e,t){return{datasets:[{label:"Total views",data:e.map((function(e){return e.value})),fill:!1,radius:3,capBezierPoints:!0,borderColor:"#32cec6",backgroundColor:"#32cec6"}],labels:e.map((function(e){return t?t(e.timestamp):e.timestamp}))}},j=function(e,t){var s={datasets:[{data:[],backgroundColor:["#2563EB","#DB2777","#8B5CF6"],borderWidth:5,borderColor:"transparent"}],labels:Object.keys(e[t]).filter((function(e){return"total"!==e}))};return s.datasets[0].data=Object.keys(c).filter((function(e){return"total"!==e})).map((function(s){return e[t][s]})),s},m=s.match(/\(([^)]+)\)/g),p=[];m&&(p.push(m[0].slice(1,m[0].length-1)),p.push(m[1].slice(1,m[1].length-6)));var h=c.total-n.total;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"relative bg-gradient-to-t from-indigo-900 to-blueGray-900 -mb-96 ",children:[Object(b.jsx)("img",{src:r,alt:l,className:"w-full h-full absolute object-cover opacity-25"}),Object(b.jsx)("div",{className:"i just space py-64 md:py-48 "})]}),Object(b.jsxs)("div",{className:"z-50 max-w-6xl",children:[Object(b.jsxs)("div",{className:"relative flex flex-col w-full outline-none focus:outline-none md:mt-24",children:[Object(b.jsxs)("div",{className:"relative p-6 flex flex-col md:flex-row items-center lg:items-start",children:[Object(b.jsx)("div",{className:"w-6/12 md:w-1/3 rounded-md overflow-hidden -mt-24 mx-auto",children:Object(b.jsx)("img",{src:r,alt:l})}),Object(b.jsxs)("div",{className:"mx-4 mt-5 md:mt-44 w-full md:w-2/3 flex flex-col justify-between flex-grow ",children:[Object(b.jsxs)("div",{className:"w-full flex items-top justify-between flex-grow",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{className:"text-blueGray-100 uppercase font-bold text-4xl",children:l}),Object(b.jsxs)("div",{className:"text-sm text-blueGray-100 font-bold",children:[p[0]," "]}),Object(b.jsxs)("div",{className:"text-sm text-blueGray-100 font-bold",children:[p[1]," minutes"]})]}),Object(b.jsxs)("div",{className:"text-blue-100 uppercase font-light text-5xl text-right ",children:[Object(b.jsx)("span",{className:"block text-sm text-blueGray-100 font-bold px-1",children:"Total views"}),n.total,Object(b.jsxs)("div",{className:"text-sm text-white mt-3",children:[Object(b.jsxs)("span",{className:"".concat(h>0?"bg-emerald-400":"bg-pink-500"," px-2 py-1 rounded-full whitespace-nowrap"),children:[Object(b.jsx)("i",{className:"fas ".concat(h>0?"fa-arrow-up":"fa-arrow-down")})," ",h]}),Object(b.jsx)("span",{className:"block whitespace-nowrap text-blueGray-400 text-xs lowercase mt-2",children:"from last month"})]})]})]}),Object(b.jsxs)("div",{className:"w-full flex flex-col items-start justify-between",children:[Object(b.jsx)("div",{className:"text-sm text-blueGray-400 font-bold",children:i}),Object(b.jsx)("div",{className:"text-sm text-blueGray-100 flex flex-wrap",children:a.map((function(e){return Object(b.jsx)("span",{className:"text-xs leading-5 font-semibold mr-1 mt-2 rounded-full bg-blueGray-400 px-2 ",children:e})}))})]})]})]}),Object(b.jsx)("p",{className:"mb-4 mx-6 px-2 py-8 text-blueGray-500 text-md leading-relaxed border-l-8 border-blueGray-200",children:s})]}),Object(b.jsxs)("div",{className:"flex flex-wrap flex-col md:flex-row px-2",children:[Object(b.jsx)("div",{className:"p-4 mx-auto w-full md:w-9/12",children:Object(b.jsxs)("div",{className:"w-full rounded-md shadow-md bg-white",children:[Object(b.jsx)("h3",{className:"text-lg font-bold text-blueGray-800 mr-10 pt-4 pl-4",children:"Total views"}),Object(b.jsx)("hr",{className:"mt-2 mb-3 w-full"}),Object(b.jsx)("div",{className:"p-4 h-56",children:Object(b.jsx)(v,{data:x(d)})})]})}),Object(b.jsx)("div",{className:"p-4 mx-auto w-full md:w-3/12",children:Object(b.jsxs)("div",{className:"w-full rounded-md shadow-md bg-white",children:[Object(b.jsx)("div",{className:" flex items-center justify-between px-4 pt-4",children:Object(b.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:"Total views"})}),Object(b.jsx)("hr",{className:"mt-2 mb-3 w-full"}),Object(b.jsxs)("div",{className:"p-4 relative flex items-center justify-around",children:[Object(b.jsx)("span",{className:"absolute top-1/3 mt-3 text-lg font-bold text-blue-800",children:n.total}),Object(b.jsx)(u.a,{data:j(e.data,"totalViews"),options:{plugins:{legend:{position:"bottom",align:"center"}}}})]})]})}),Object(b.jsx)("div",{className:"p-4 mx-auto w-full md:w-9/12",children:Object(b.jsxs)("div",{className:"w-full rounded-md shadow-md bg-white",children:[Object(b.jsx)("h3",{className:"text-lg font-bold text-blueGray-800 mr-10 pt-4 pl-4",children:"Total views"}),Object(b.jsx)("hr",{className:"mt-2 mb-3 w-full"}),Object(b.jsx)("div",{className:"p-4 h-56",children:Object(b.jsx)(g,{data:x(d,(function(e){return new Date(e).getHours()}))})})]})}),Object(b.jsx)("div",{className:"p-4 mx-auto w-full md:w-3/12",children:Object(b.jsxs)("div",{className:"w-full rounded-md shadow-md bg-white",children:[Object(b.jsx)("div",{className:" flex items-center justify-between px-4 pt-4",children:Object(b.jsx)("h3",{className:"text-lg font-bold text-blue-800",children:"Previous views"})}),Object(b.jsx)("hr",{className:"mt-2 mb-3 w-full"}),Object(b.jsxs)("div",{className:"p-4 relative flex items-center justify-around",children:[Object(b.jsx)("span",{className:"absolute top-1/3 mt-3 text-lg font-bold text-blue-800",children:c.total}),Object(b.jsx)(u.a,{data:j(e.data,"prevTotalViews"),options:{plugins:{legend:{position:"bottom",align:"center"}}}})]})]})})]})]})]})},y=function(e){var t=e.data,s=e.handleClick,a=function(e){var t={datasets:[{data:[],backgroundColor:["#2563EB","#DB2777","#8B5CF6","#32cec6","#F9A8D4","#FCD34D"],borderWidth:5,borderColor:"transparent"}],labels:Object.keys(e.prevTotalViews).filter((function(e){return"total"!==e}))};return t.datasets[0].data=Object.keys(e.prevTotalViews).filter((function(e){return"total"!==e})).map((function(t){return e.prevTotalViews[t]})),t};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"flex flex-col px-4",children:Object(b.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(b.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(b.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 rounded-lg",children:Object(b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-auto",children:[Object(b.jsx)("thead",{className:"bg-gray-50",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",className:"px-2 md:px-6  py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(b.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),Object(b.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genre"}),Object(b.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total views"}),Object(b.jsx)("th",{scope:"col",className:"px-2 md:px-6  py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views split"})]})}),Object(b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e){var t=e.description.match(/\(([^)]+)\)/g),l=[];return t&&(l.push(t[0].slice(1,t[0].length-1)),l.push(t[1].slice(1,t[1].length-6))),Object(b.jsxs)("tr",{className:"cursor-pointer  transition duration-300 ease-in-out transform hover:bg-sky-50",role:"button",onClick:function(){return s({visible:!0,data:e})},children:[Object(b.jsx)("td",{className:"px-2 md:px-6 py-4 whitespace-normal w-1/3 ",children:Object(b.jsxs)("div",{className:"flex items-top",children:[Object(b.jsx)("div",{className:"flex-shrink-0 w-16 md:w-20 rounded overflow-hidden shadow-md",children:Object(b.jsx)("img",{className:"object-cover w-full h-full",src:e.assetImage,alt:e.name})}),Object(b.jsxs)("div",{className:"ml-2 md:ml-4",children:[Object(b.jsx)("div",{className:"text:md md:text-lg text-blueGray-900",children:e.name}),Object(b.jsx)("div",{className:"hidden md:block text-sm text-blueGray-400 font-bold",children:l[0]}),Object(b.jsxs)("div",{className:"hidden md:block text-sm text-blueGray-400 font-bold",children:[l[1]," minutes"]}),Object(b.jsx)("div",{className:"md:hidden text-xs text-blueGray-400 font-bold",children:e.provider}),Object(b.jsxs)("div",{className:"md:hidden text-sm text-blue-500 font-bold",children:[e.totalViews.total," views"]})]})]})}),Object(b.jsx)("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-sm text-blueGray-400 font-bold",children:e.provider})}),Object(b.jsx)("td",{className:"hidden md:table-cell px-6 py-4 ",children:Object(b.jsx)("div",{className:"text-sm text-blueGray-100 flex flex-wrap w-36",children:e.genre.map((function(e){return Object(b.jsx)("span",{className:"text-xs leading-5 font-semibold m-1 rounded-full bg-blueGray-400 px-2 ",children:e})}))})}),Object(b.jsx)("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"text-lg leading-5 font-semibold text-blue-500 ",children:e.totalViews.total})}),Object(b.jsx)("td",{className:"px-2 md:px-6 py-4 whitespace-nowrap flex flex-col items-start justify-center",children:Object(b.jsx)("div",{className:"w-36 h-20 md:w-40 overflow-hidden flex items-center justify-around",children:Object(b.jsx)(u.a,{data:a(e),options:{plugins:{legend:{position:"right",align:"center"}}}})})})]})}))})]})})})})})})},k=function(){var e=Object(l.useState)({visible:!1,data:{}}),t=Object(r.a)(e,2),s=t[0],a=t[1],c=o("https://my-json-server.typicode.com/alb90/aieng-tech-test-assets/data").data;return Object(b.jsxs)(b.Fragment,{children:[s.visible?Object(b.jsx)(j.a,{data:s.data,setModal:a}):null,Object(b.jsxs)("div",{className:"relative bg-gradient-to-t from-indigo-900 to-blueGray-900",children:[Object(b.jsxs)("h2",{className:"px-12 pt-12 text-blueGray-100 text-3xl text-light uppercase tracking-wide",children:[Object(b.jsx)("i",{className:"fas fa-medal text-blueGray-100 mr-2"})," Top performers"]}),Object(b.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full md:pt-24 pb-32 pt-8",children:Object(b.jsx)("div",{className:"flex items-center justify-between flex-wrap",children:Object(n.a)(c).sort((function(e,t){return e.totalViews.total-e.prevTotalViews.total<t.totalViews.total-t.prevTotalViews.total?-1:1})).slice(0,3).map((function(e){return Object(b.jsx)(x.a,{data:e,handleClick:function(){return a({visible:!0,data:e})}})}))})})]}),Object(b.jsx)("div",{className:"relative px-4 md:px-10 mx-auto w-full -mt-24 z-30",children:Object(b.jsx)(y,{data:c,handleClick:a})})]})},G=s(56);var V=[{path:"/content",component:function(){return Object(b.jsx)(G.a,{children:Object(b.jsx)(l.Suspense,{fallback:Object(b.jsx)(G.b,{}),children:Object(b.jsx)(m,{})})})},exact:!0},{path:"/content/:event",component:function(e){var t=e.location;return Object(b.jsx)(G.a,{children:Object(b.jsx)(N,{data:t.state})})}},{path:"/",component:function(){return Object(b.jsx)(G.a,{children:Object(b.jsx)(l.Suspense,{fallback:Object(b.jsx)(G.b,{}),children:Object(b.jsx)(k,{})})})},exact:!0}];t.default=function(){return Object(b.jsx)(c.a,{children:Object(b.jsxs)(i.d,{children:[V.map((function(e){return Object(b.jsx)(i.b,{path:e.path,render:function(t){return Object(b.jsx)(e.component,Object(a.a)({},t))},exact:e.exact})})),Object(b.jsx)(i.b,{render:function(){return Object(b.jsx)(i.a,{to:"/"})}})]})})}}}]);
//# sourceMappingURL=4.e9affeff.chunk.js.map